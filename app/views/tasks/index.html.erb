<h1><%= t('view.Index Task') %></h1>
<%= notice %>
<p><%= link_to "終了期限でソートする", tasks_path(sort_expired: "true") %></p>
<p><%= link_to "優先順位でソートする", tasks_path(sort_priority: "true") %></p>
<div class="seach">
<%= form_with(url: tasks_path, local: true, method: 'get') do |form| %>
<%= form.label :title %>
<%= form.text_field (:title_key) %>
<%= form.select "search_status", options_for_select(Task.statuses), {prompt: "選択してください"} %>
<br>
<%= form.submit 'Search' %> <%= link_to 'Clear', tasks_path %>
<% end %>
</div>
<table>
  <tr>
    <th><%= t('view.Title') %></th>
    <th><%= t('view.Description') %></th>
    <th><%= t('view.Limit') %></th>
    <th><%= t('view.Status') %></th>
    <th><%= t('view.Priority') %></th>
    <th colspan="3"></th>
  </tr>
<% @tasks.each do |task| %>
  <tr class="task_row">
    <td><%= task.task_title %></td>
    <td><%= task.task_description %></td>
    <td><%= l task.limit %></td>
    <td><%= task.status %></td>
    <td><%= task.priority %></td>
    <td><%= link_to t('view.show'), task_path(task.id) %></td>
    <td><%= link_to t('view.edit'), edit_task_path(task), data: { confirm: '編集してよろしいですか?' } %></td>
    <td><%= link_to t('view.destroy'), task, method: :delete, data: { confirm: '削除してよろしいですか?' } %></td>
  </tr>
<% end %>
</table>
<br>
<%= link_to t('view.New Task'), new_task_path %>
